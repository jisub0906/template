---
description: 
globs: 
alwaysApply: false
---
# ğŸ“– Next.js + Supabase í…œí”Œë¦¿ ì‚¬ìš© ê°€ì´ë“œ

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í…œí”Œë¦¿ ë³µì‚¬
```bash
git clone [template-repo] my-project
cd my-project
pnpm install
```

### 2. Supabase ì„¤ì •
1. [supabase.com](mdc:https:/supabase.com)ì—ì„œ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
2. í™˜ê²½ë³€ìˆ˜ ì„¤ì •:
```bash
# .env.local
NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
```

### 3. ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
pnpm dev
```

### 4. ì²« ë°°í¬ (Vercel)
```bash
pnpm build
vercel --prod
```

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

### ê¸°ë³¸ í…Œì´ë¸” ìƒì„±
Supabase SQL ì—ë””í„°ì—ì„œ ì‹¤í–‰:

```sql
-- ì‚¬ìš©ì í”„ë¡œí•„
CREATE TABLE profiles (
  id uuid PRIMARY KEY REFERENCES auth.users(id),
  email varchar(255) UNIQUE NOT NULL,
  name varchar(100),
  avatar_url text,
  created_at timestamptz DEFAULT now()
);

-- RLS ì •ì±…
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own profile" 
ON profiles FOR SELECT 
USING (auth.uid() = id);

CREATE POLICY "Users can update own profile" 
ON profiles FOR UPDATE 
USING (auth.uid() = id);
```

### ìƒ˜í”Œ ë°ì´í„° í…Œì´ë¸”
```sql
-- ê²Œì‹œê¸€ ì˜ˆì‹œ
CREATE TABLE posts (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  title varchar(255) NOT NULL,
  content text,
  author_id uuid REFERENCES profiles(id),
  created_at timestamptz DEFAULT now()
);

ALTER TABLE posts ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Anyone can view posts" 
ON posts FOR SELECT 
TO authenticated 
USING (true);

CREATE POLICY "Users can create posts" 
ON posts FOR INSERT 
TO authenticated 
WITH CHECK (auth.uid() = author_id);
```

---

## ğŸ”§ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ë¸Œëœë”© ë³€ê²½
1. **ë¡œê³ **: `public/` í´ë”ì— ë¡œê³  íŒŒì¼ ì¶”ê°€
2. **ìƒ‰ìƒ**: `globals.css`ì—ì„œ CSS ë³€ìˆ˜ ìˆ˜ì •
3. **í°íŠ¸**: `layout.tsx`ì—ì„œ í°íŠ¸ ë³€ê²½
4. **íŒŒë¹„ì½˜**: `app/favicon.ico` êµì²´

### ë©”íƒ€ë°ì´í„° ìˆ˜ì •
```typescript
// app/layout.tsx
export const metadata = {
  title: 'ë‚´ ì•± ì´ë¦„',
  description: 'ë‚´ ì•± ì„¤ëª…',
}
```

### í™˜ê²½ë³€ìˆ˜ ì¶”ê°€
```bash
# .env.local
NEXT_PUBLIC_APP_NAME="My App"
NEXT_PUBLIC_APP_URL="https://myapp.com"
```

---

## ğŸ§© ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ë²•

### ì¸ì¦ í›… ì‚¬ìš©
```typescript
import { useAuth } from '@/hooks/use-auth'

function MyComponent() {
  const { user, signIn, signOut, isLoading } = useAuth()
  
  if (isLoading) return <div>ë¡œë”©...</div>
  if (!user) return <button onClick={signIn}>ë¡œê·¸ì¸</button>
  
  return (
    <div>
      <p>ì•ˆë…•í•˜ì„¸ìš”, {user.email}ë‹˜</p>
      <button onClick={signOut}>ë¡œê·¸ì•„ì›ƒ</button>
    </div>
  )
}
```

### ë°ì´í„° í˜ì¹­
```typescript
import { useQuery } from '@tanstack/react-query'
import { supabase } from '@/lib/supabase'

function PostsList() {
  const { data: posts, isLoading } = useQuery({
    queryKey: ['posts'],
    queryFn: async () => {
      const { data } = await supabase
        .from('posts')
        .select('*')
        .order('created_at', { ascending: false })
      return data
    }
  })

  if (isLoading) return <div>ë¡œë”© ì¤‘...</div>
  
  return (
    <div>
      {posts?.map(post => (
        <div key={post.id}>
          <h3>{post.title}</h3>
          <p>{post.content}</p>
        </div>
      ))}
    </div>
  )
}
```

### í¼ ì»´í¬ë„ŒíŠ¸
```typescript
import { useForm } from 'react-hook-form'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'

function PostForm() {
  const { register, handleSubmit } = useForm()
  
  const onSubmit = async (data: any) => {
    // ë°ì´í„° ì €ì¥ ë¡œì§
  }

  return (
    <form onSubmit={handleSubmit(onSubmit)}>
      <Input {...register('title')} placeholder="ì œëª©" />
      <textarea {...register('content')} placeholder="ë‚´ìš©" />
      <Button type="submit">ì €ì¥</Button>
    </form>
  )
}
```

---

## ğŸ¨ UI ì»´í¬ë„ŒíŠ¸ í™œìš©

### ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸
```typescript
import { Button } from '@/components/ui/button'
import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'
import { Input } from '@/components/ui/input'

function Example() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>ì¹´ë“œ ì œëª©</CardTitle>
      </CardHeader>
      <CardContent>
        <Input placeholder="ì…ë ¥í•˜ì„¸ìš”" />
        <Button>í´ë¦­</Button>
      </CardContent>
    </Card>
  )
}
```

### ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
```typescript
function Layout({ children }: { children: React.ReactNode }) {
  return (
    <div className="min-h-screen bg-background">
      <header className="border-b">
        <nav className="container mx-auto px-4 py-2">
          {/* ë„¤ë¹„ê²Œì´ì…˜ */}
        </nav>
      </header>
      <main className="container mx-auto px-4 py-8">
        {children}
      </main>
    </div>
  )
}
```

---

## ğŸ“± ë°˜ì‘í˜• ë””ìì¸

### Tailwind ë°˜ì‘í˜• í´ë˜ìŠ¤
```typescript
<div className="
  grid 
  grid-cols-1 
  md:grid-cols-2 
  lg:grid-cols-3 
  gap-4
">
  {/* ì½˜í…ì¸  */}
</div>
```

### ëª¨ë°”ì¼ ìµœì í™”
- **í„°ì¹˜ íƒ€ê²Ÿ**: ìµœì†Œ 44x44px í¬ê¸°
- **ê°€ë…ì„±**: 16px ì´ìƒ í°íŠ¸ í¬ê¸°
- **ë„¤ë¹„ê²Œì´ì…˜**: ì—„ì§€ì†ê°€ë½ìœ¼ë¡œ ì‰½ê²Œ ì ‘ê·¼

---

## ğŸš€ ë°°í¬

### Vercel ë°°í¬
1. GitHubì— ì½”ë“œ í‘¸ì‹œ
2. Vercelì—ì„œ í”„ë¡œì íŠ¸ import
3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
4. ìë™ ë°°í¬ ì™„ë£Œ

### ë„ë©”ì¸ ì—°ê²°
1. Vercel í”„ë¡œì íŠ¸ ì„¤ì •ì—ì„œ ë„ë©”ì¸ ì¶”ê°€
2. DNS ì„¤ì •: CNAMEì„ Vercelë¡œ ì—°ê²°
3. SSL ìë™ ì ìš©

### í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Vercel)
```
NEXT_PUBLIC_SUPABASE_URL
NEXT_PUBLIC_SUPABASE_ANON_KEY
SUPABASE_SERVICE_ROLE_KEY
```

---

## ğŸ”§ í™•ì¥ ê¸°ëŠ¥ ì¶”ê°€

### ì†Œì…œ ë¡œê·¸ì¸
1. Supabaseì—ì„œ OAuth í”„ë¡œë°”ì´ë” ì„¤ì •
2. ë¦¬ë‹¤ì´ë ‰íŠ¸ URL ì„¤ì •
3. í™˜ê²½ë³€ìˆ˜ ì¶”ê°€

### íŒŒì¼ ì—…ë¡œë“œ
1. Supabase Storage ë²„í‚· ìƒì„±
2. ì—…ë¡œë“œ ì •ì±… ì„¤ì •
3. í´ë¼ì´ì–¸íŠ¸ì—ì„œ íŒŒì¼ ì—…ë¡œë“œ

### ì‹¤ì‹œê°„ ê¸°ëŠ¥
```typescript
useEffect(() => {
  const channel = supabase
    .channel('posts')
    .on('postgres_changes', 
      { event: '*', schema: 'public', table: 'posts' },
      (payload) => {
        // ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì²˜ë¦¬
      }
    )
    .subscribe()

  return () => supabase.removeChannel(channel)
}, [])
```

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

**ë¹Œë“œ ì˜¤ë¥˜**
```bash
pnpm clean    # .next í´ë” ì‚­ì œ
pnpm build    # ë‹¤ì‹œ ë¹Œë“œ
```

**TypeScript ì˜¤ë¥˜**
```bash
pnpm type-check    # íƒ€ì… ê²€ì‚¬
```

**Supabase ì—°ê²° ì˜¤ë¥˜**
- í™˜ê²½ë³€ìˆ˜ í™•ì¸
- Supabase í”„ë¡œì íŠ¸ ìƒíƒœ í™•ì¸
- RLS ì •ì±… ê²€í† 

**ì„±ëŠ¥ ë¬¸ì œ**
- Lighthouseë¡œ ì„±ëŠ¥ ì¸¡ì •
- ì´ë¯¸ì§€ ìµœì í™” í™•ì¸
- ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ í™•ì¸

---

## ğŸ“Š ëª¨ë‹ˆí„°ë§

### ì„±ëŠ¥ ì¸¡ì •
- **Lighthouse**: ì„±ëŠ¥, ì ‘ê·¼ì„±, SEO ì ìˆ˜
- **Core Web Vitals**: LCP, CLS, FID ì¸¡ì •
- **Vercel Analytics**: ì‹¤ì œ ì‚¬ìš©ì ë©”íŠ¸ë¦­

### ì—ëŸ¬ ì¶”ì 
- ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ì—ì„œ ì½˜ì†” í™•ì¸
- Vercel í•¨ìˆ˜ ë¡œê·¸ í™•ì¸
- Supabase ë¡œê·¸ í™•ì¸

---

## ğŸ¯ í”„ë¡œë•ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë°°í¬ ì „ í™•ì¸ì‚¬í•­
- [ ] í™˜ê²½ë³€ìˆ˜ ëª¨ë‘ ì„¤ì •
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì ìš©
- [ ] RLS ì •ì±… ì„¤ì •
- [ ] ë„ë©”ì¸ ì—°ê²°
- [ ] SSL ì¸ì¦ì„œ í™•ì¸

### SEO ìµœì í™”
- [ ] ë©”íƒ€ë°ì´í„° ì„¤ì •
- [ ] sitemap.xml ìƒì„±
- [ ] robots.txt ì„¤ì •
- [ ] êµ¬ì¡°í™”ëœ ë°ì´í„° ì¶”ê°€

### ë³´ì•ˆ ì ê²€
- [ ] í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆ í™•ì¸
- [ ] API ì—”ë“œí¬ì¸íŠ¸ ë³´í˜¸
- [ ] ì‚¬ìš©ì ì…ë ¥ ê²€ì¦
- [ ] ë¯¼ê° ì •ë³´ ë¡œê·¸ ì œê±°

---

## ğŸ’¡ íŒ & íŠ¸ë¦­

### ê°œë°œ íš¨ìœ¨ì„±
- **ì½”ë“œ ìŠ¤ë‹ˆí«**: ìì£¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ ì €ì¥
- **Hot Reload**: ì €ì¥ ì‹œ ìë™ ìƒˆë¡œê³ ì¹¨
- **TypeScript**: íƒ€ì… ì˜¤ë¥˜ ì¦‰ì‹œ í™•ì¸
- **ESLint**: ì½”ë“œ ìŠ¤íƒ€ì¼ ìë™ ìˆ˜ì •

### ë””ë²„ê¹…
- **React DevTools**: ì»´í¬ë„ŒíŠ¸ ìƒíƒœ í™•ì¸
- **Network íƒ­**: API ìš”ì²­ ìƒíƒœ í™•ì¸
- **Console**: ì ì ˆí•œ ë¡œê·¸ ë©”ì‹œì§€ í™œìš©

### ì„±ëŠ¥ ìµœì í™”
- **ì´ë¯¸ì§€**: WebP í¬ë§· ì‚¬ìš©
- **í°íŠ¸**: ì‹œìŠ¤í…œ í°íŠ¸ ìš°ì„  ê³ ë ¤
- **CSS**: ë¶ˆí•„ìš”í•œ ìŠ¤íƒ€ì¼ ì œê±°
- **JavaScript**: ë²ˆë“¤ í¬ê¸° ìµœì†Œí™”

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„
1. **ê³ ê¸‰ ì¸ì¦**: 2FA, ì†Œì…œ ë¡œê·¸ì¸
2. **íŒŒì¼ ê´€ë¦¬**: ì´ë¯¸ì§€ ì—…ë¡œë“œ, ë¦¬ì‚¬ì´ì§•
3. **ì‹¤ì‹œê°„**: ì±„íŒ…, ì•Œë¦¼ ì‹œìŠ¤í…œ
4. **ë¶„ì„**: ì‚¬ìš©ì í–‰ë™ ì¶”ì 
5. **ê´€ë¦¬ì**: ì‚¬ìš©ì ê´€ë¦¬ íŒ¨ë„

### ì„±ëŠ¥ í–¥ìƒ
- **PWA ê¸°ëŠ¥**: ì˜¤í”„ë¼ì¸ ì§€ì›
- **ì´ë¯¸ì§€ ìµœì í™”**: ìë™ ë¦¬ì‚¬ì´ì§•
- **ìºì‹± ì „ëµ**: ë” ìŠ¤ë§ˆíŠ¸í•œ ìºì‹œ
- **ì½”ë“œ ë¶„í• **: ë” ì„¸ë°€í•œ ë¶„í• 

### í™•ì¥ì„±
- **ë‹¤êµ­ì–´**: i18n ì§€ì›
- **í…Œë§ˆ**: ì»¤ìŠ¤í…€ í…Œë§ˆ ì‹œìŠ¤í…œ
- **í”ŒëŸ¬ê·¸ì¸**: í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°
- **API**: ì™¸ë¶€ ì—°ë™ API

---

## ğŸŠ ì™„ì„±!

ì´ì œ ì—¬ëŸ¬ë¶„ì˜ **ì™„ë²½í•œ Next.js + Supabase ì• í”Œë¦¬ì¼€ì´ì…˜**ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤!

**ê¸°ì–µí•˜ì„¸ìš”:**
- ğŸ¯ **ì‚¬ìš©ì ì¤‘ì‹¬ìœ¼ë¡œ ê°œë°œ**
- ğŸ”’ **ë³´ì•ˆì„ í•­ìƒ ê³ ë ¤**
- ğŸ“± **ëª¨ë“  ë””ë°”ì´ìŠ¤ì—ì„œ í…ŒìŠ¤íŠ¸**
- ğŸš€ **ì„±ëŠ¥ì„ ì§€ì†ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§**

**í–‰ìš´ì„ ë¹•ë‹ˆë‹¤!** ë©‹ì§„ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”! ğŸ‰
